doctype html
html(lang="en")
  head
    title="FCC - Image Search"
    link(rel="shortcut icon" type="image/x-icon" href="favicon.ico")
    link(rel="stylesheet" href="style.css")
  body
    div.container
      h1 FCC Project - Image Search API
      p To use the API, either use the REST API or the form at the bottom to see the results on the page
      
      h2 API Endpoints:
      ul.nav(role="tablist")
        li.nav-item.active(role="presentation")
          a.nav-button(href="#search" role="button" aria-controls="search") Search
        li.nav-item(role="presentation")
          a.nav-button(href="#history" role="button" aria-controls="history") History
      
      div.tab.active#search(role="tabpanel")
        h3 Using the search API:
        p This API returns a json formatted collection of images obtained through a search engine using #[a(href="https://developers.google.com/custom-search/") Google Custom Search API]. It was made to complete the #[a(href="https://www.freecodecamp.org/challenges/image-search-abstraction-layer") Image Search Abstraction Layer] challenge as part of the #[a(href="https://www.freecodecamp.org") Free Code Camp] course.
        
        h3 API URL:
        p.code-container
          cite http://freecodecamp.allistermoon.com/api-image-search/search/
          
        h3 Resource Information:
        table
          tbody
            tr
              th Response format
              td JSON
            tr
              th Requires authentication?
              td No
            tr
              th Rate limited?
              td Yes
            tr
              th Requests / day (combined from all users)
              td 100
            tr
              th Maximum requests / query
              td 100
            
        h3 Parameters:
        table
          thead
            tr
              th Name
              th Required
              th Description
              th Default Value
              th Example
          tbody
            tr
              td offset
              td optional
              td The index of the first result to return (note: combined with count, the value can not give a search result who index would be greater than 100. For example, offset=101 and count=1 would request the 101st search result, which would be invalid)
              td
              td 1
            tr
              td count
              td optional
              td Number of search results to return (note: this can not be higher than 100. If combined with offset, the values can not give a search result whose index would be greater than 100. For example, offset=60 and count=2 would request the 120th search result, which would be invalid)
              td
              td 1
            tr
              td exactTerms
              td optional
              td A phrase that the search results must contain
              td
              td cute fluffy
            tr
              td excludeTerms
              td optional
              td a word or phrase that should not appear in any of the search results
              td
              td dog
      
        h3 Example Search: 
        p.code-container
          cite http://localhost:50023/search/cats?offset=1&count=1&exactTerms=cute%20fluffy&excludeTerms=dog
          
        h3 Example Response:
        p.code-container
          code
            | [
            |   {
            |     title: "cute fluffy cat breeds - Album on Imgur",
            |     link: "https://imgur.com/gallery/QjkyA",
            |     snippet: "Jul 31, 2016 ... Post with 1 votes and 73 views. Shared by zainikhan. cute fluffy cat breeds.",
            |     pagemap: {
            |       cse_thumbnail: [
            |         {
            |           width: "310",
            |           height: "163",
            |           src:  "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSPIxYHf8epj6aTXyRl8NkIYNoaHFW07EdR96IxW4n_XP0P_pmD_RgBCUPX"
            |         }
            |       ],
            |       imageobject: [
            |         {
            |           contenturl: "https://i.imgur.com/FU7PBNi.jpg",
            |           datepublished: "2016-07-31"
            |         }
            |       ],
            |       person: [
            |         {
            |           url: "https://imgur.com/user/zainikhan"
            |         }
            |       ],
            |       metatags: [
            |         {
            |           viewport: "width=1138",
            |           copyright: "Copyright 2017 Imgur, Inc.",
            |           msapplication-tilecolor: "#2cd63c",
            |           msapplication-tileimage: "//s.imgur.com/images/favicon-144.png",
            |           og:url: "https://imgur.com/gallery/QjkyA",
            |           p:domain_verify: "a1e7abe8af908cc6dfaf935dd9a20384",
            |           og:site_name: "Imgur",
            |           fb:admins: "12331492",
            |           fb:app_id: "127621437303857",
            |           al:android:url: "imgur://imgur.com/gallery/QjkyA?from=fbreferral",
            |           al:android:app_name: "Imgur",
            |           al:android:package: "com.imgur.mobile",
            |           al:ios:url: "imgur://imgur.com/gallery/QjkyA?from=fbreferral",
            |           al:ios:app_store_id: "639881495",
            |           al:ios:app_name: "Imgur",
            |           al:web:url: "https://imgur.com/gallery/QjkyA",
            |           twitter:site: "@imgur",
            |           twitter:domain: "imgur.com",
            |           twitter:app:id:googleplay: "com.imgur.mobile",
            |           twitter:title: "cute fluffy cat breeds",
            |           og:title: "cute fluffy cat breeds",
            |           author: "Imgur",
            |           article:author: "Imgur",
            |           article:publisher: "https://www.facebook.com/imgur",
            |           og:type: "article",
            |           og:image: "https://i.imgur.com/FU7PBNi.jpg?fb",
            |           og:image:width: "600",
            |           og:image:height: "315",
            |           twitter:card: "summary_large_image",
            |           twitter:image: "https://i.imgur.com/FU7PBNih.jpg",
            |           og:description: "Imgur: The most awesome images on the Internet.",
            |           twitter:description: "Imgur: The most awesome images on the Internet."
            |         }
            |       ],
            |       cse_image: [
            |         {
            |           src: "https://i.imgur.com/FU7PBNi.jpg?fb"
            |         }
            |       ]
            |     }
            |   }
            | ]
            
      div.tab#history(role="tabpanel")
        h3 Using the history API:
        p This API returns a json formatted collection of searches done on the search api.
        
        h3 API URL:
        p.code-container
          cite http://freecodecamp.allistermoon.com/api-image-search/history/
          
        h3 Resource Information:
        table
          tbody
            tr
              th Response format
              td JSON
            tr
              th Requires authentication?
              td No
            tr
              th Rate limited?
              td No
                
        h3 Parameters:
        p None
        
        h3 Example Search: 
        p.code-container
          cite http://localhost:50023/history/
          
        h3 Example Response:
        p.code-container
          code
            |  [
            |    {
            |      _id: "59f53480f966453e58afd30c",
            |      query: "Awesome Cats",
            |      props: {
            |      count: "5",
            |      offset: "2"
            |      },
            |      fullUrl: "http://freecodecamp.allistermoon.com/api-image-search/search/Awesome%20Cats?count=5&offset=2",
            |      timestamp: {
            |        unix: 1509241984755,
            |        natural: "2017-10-29 1:53:4 UTC"
            |      }
            |    },
            |    {
            |      _id: "59f53ca5f966453e58afd30d",
            |      query: "cats",
            |      props: {
            |        offset: "2",
            |        count: "5",
            |        exactTerms: "cute fluffy",
            |        excludeTerms: "dog"
            |      },
            |      fullUrl: "http://freecodecamp.allistermoon.com/api-image-search/search/cats?offset=2&count=5&exactTerms=cute%20fluffy&excludeTerms=dog",
            |      timestamp: {
            |        unix: 1509244069135,
            |        natural: "2017-10-29 2:27:49 UTC"
            |      }
            |    },
            |    {
            |      _id: "59f53cc7f966453e58afd30e",
            |      query: "cats",
            |      props: {
            |        offset: "1",
            |        count: "1",
            |        exactTerms: "cute fluffy",
            |        excludeTerms: "dog"
            |      },
            |      fullUrl: "http://freecodecamp.allistermoon.com/api-image-search/search/cats?offset=1&count=1&exactTerms=cute%20fluffy&excludeTerms=dog",
            |      timestamp: {
            |        unix: 1509244103604,
            |        natural: "2017-10-29 2:28:23 UTC"
            |      }
            |    },
            |    {
            |      _id: "59f61a3a6bb2f32a08843c4e",
            |      query: "cats",
            |      props: {
            |        offset: "1",
            |        count: "2",
            |        exactTerms: "",
            |        excludeTerms: ""
            |      },
            |      fullUrl: "http://freecodecamp.allistermoon.com/api-image-search/search/cats?offset=1&count=2&exactTerms=&excludeTerms=",
            |      timestamp: {
            |        unix: 1509300794328,
            |        natural: "2017-10-29 18:13:14 UTC"
            |      }
            |    }
            |  ]
            
    div.container
      h1 API Example - Search
      form.api-form(data-endpoint="search")
        p
          label.required(for="query") The search query *
          input(type="text" name="query" placeholder="" required)
        p
          label(for="offset") offset
          input(type="number" name="offset" min="0" placeholder="")
        p
          label(for="count") count
          input(type="number" name="count" min="1" placeholder="")
        p
          label(for="exactTerms") exactTerms
          input(type="text" name="exactTerms" placeholder="")
        p
          label(for="excludeTerms") excludeTerms
          input(type="text" name="excludeTerms" placeholder="")
        p
          label #[span.required bold red *] = required
          input(type="submit" value="Search")
      
      h1 API Example - History
      form.api-form(data-endpoint="history")
        p
          input(type="submit" value="Get History")
      
      div#api-results.code-container
        
    script(src="index.js")
    script(src="analytics.js")
      